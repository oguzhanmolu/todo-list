(()=>{"use strict";class e{constructor(e,t,a){this.title=e,this.description=t,this.deadline=a}static createTaskObject(){const t=document.getElementById("input-title").value,a=document.getElementById("input-description").value,s=document.getElementById("input-date").value,n=e.getFullDate().split("-"),d=s.split("-");return n[0]===d[0]&&n[1]===d[1]&&n[2]>d[2]?alert("Deadline must be at least due today."):new e(t,a,s)}static getFullDate(){const e=new Date,t=(new Date).getDate();return`${e.getFullYear()}-0${e.getMonth()+1}-${t<10?"0"+t:t}`}}class t{constructor(){this.tasks=[]}static storeTaskObject(e){const t=this.getTaskArray();this.tasks=t,this.tasks.push(e),localStorage.setItem("taskArray",JSON.stringify(this.tasks))}static getTaskArray(){return JSON.parse(localStorage.getItem("taskArray"))||[]}}class a{static createCardInnerHTML(e,t,a){const s=document.getElementById("task-display-area"),n=document.createElement("div");n.innerHTML=`\n    <div id="card">\n      <i class="card-icon fa-sharp fa-solid fa-check-double"></i>\n      <span class="card-item card-title">Title: ${e}</span>\n      <span class="card-item card-description">Description: ${t}</span>\n      <span class="card-item card-deadline">Deadline:\n       ${a.split("-").reverse().join("/")}</span>\n      </div>`,s.appendChild(n)}static createTaskCard=()=>{t.getTaskArray()&&(document.getElementById("task-display-area").textContent="",t.getTaskArray().forEach((e=>this.createCardInnerHTML(e.title,e.description,e.deadline))))};static createCardOnPageLoad=()=>{this.createTaskCard()};static createCardOnSubmit(){document.getElementById("form").addEventListener("submit",(e=>{e.preventDefault(),this.createTaskCard()}))}static createAllTaskCards(){const e=document.getElementById("task-display-area"),t=document.getElementById("all-tasks");e.textContent="",t.addEventListener("click",(t=>{t.preventDefault(),document.getElementById("main-title").textContent="All Tasks",e.textContent="",this.createTaskCard()}))}static createTodayTaskCards(){const a=document.getElementById("main-title"),s=document.getElementById("task-display-area");document.getElementById("today-tasks").addEventListener("click",(()=>{s.textContent="",a.textContent="Today's Tasks",t.getTaskArray()&&t.getTaskArray().forEach((t=>{t.deadline===e.getFullDate()&&this.createCardInnerHTML(t.title,t.description,t.deadline)}))}))}static createUpcomingTaskCards(){const a=document.getElementById("main-title"),s=document.getElementById("task-display-area");document.getElementById("upcoming-tasks").addEventListener("click",(()=>{s.textContent="",a.textContent="Upcoming Tasks",t.getTaskArray()&&t.getTaskArray().forEach((t=>{const a=t.deadline.split("-"),s=e.getFullDate().split("-");a[1]===s[1]&&a[2]-s[2]<=7&&a[2]-s[2]>0&&this.createCardInnerHTML(t.title,t.description,t.deadline)}))}))}}class s{static toggleModal(){const e=document.getElementById("modal"),t=document.getElementById("add-new-task-group"),a=document.getElementById("form"),s=document.getElementById("header"),n=document.querySelector("main");function d(){e.style.display="none",s.style.filter="blur(0px)",n.style.filter="blur(0px)"}t.addEventListener("click",(()=>{e.style.display="block",s.style.filter="blur(1px)",n.style.filter="blur(1px)"})),a.addEventListener("submit",(e=>{e.preventDefault(),d()})),s.addEventListener("mouseover",(()=>d())),document.addEventListener("keydown",(e=>{"Escape"===e.key&&d()}))}static resetModal(){const e=document.getElementById("form");document.getElementById("add-new-task-group").addEventListener("click",(()=>{e.reset()}))}static createTaskObject(){document.getElementById("form").addEventListener("submit",(a=>{a.preventDefault(),t.storeTaskObject(e.createTaskObject())}))}static createToDoCard(){a.createCardOnSubmit(),a.createAllTaskCards(),a.createTodayTaskCards(),a.createUpcomingTaskCards(),a.createCardOnPageLoad()}}s.toggleModal(),s.resetModal(),s.createTaskObject(),s.createToDoCard()})();