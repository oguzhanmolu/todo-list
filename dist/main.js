(()=>{"use strict";class e{constructor(e,t,a){this.title=e,this.description=t,this.deadline=a}static createTaskObject(){const t=document.getElementById("input-title").value,a=document.getElementById("input-description").value,s=document.getElementById("input-date").value,n=e.getFullDate().split("-"),d=s.split("-");return n[0]===d[0]&&n[1]===d[1]&&n[2]>d[2]?alert("Deadline must be at least due today."):new e(t,a,s)}static getFullDate(){const e=new Date,t=(new Date).getDate();return`${e.getFullYear()}-0${e.getMonth()+1}-${t<10?"0"+t:t}`}}let t=[];class a{constructor(){this.tasks=[]}static storeTaskObject(e){t.push(e),this.tasks=t,localStorage.setItem("taskArray",JSON.stringify(this.tasks))}static getTaskArray(){return JSON.parse(localStorage.getItem("taskArray"))}}class s{static createCardInnerHTML(e,t,a){const s=document.getElementById("task-display-area"),n=document.createElement("div");n.innerHTML=`\n    <div id="card">\n      <i class="card-icon fa-sharp fa-solid fa-check-double"></i>\n      <span class="card-item card-title">Title: ${e}</span>\n      <span class="card-item card-description">Description: ${t}</span>\n      <span class="card-item card-deadline">Deadline:\n       ${a.split("-").reverse().join("/")}</span>\n      </div>`,s.appendChild(n)}static createAllTaskCards(){const e=document.getElementById("main-title"),t=document.getElementById("task-display-area");document.getElementById("all-tasks").addEventListener("click",(()=>{t.textContent="",e.textContent="All Tasks",a.getTaskArray()&&a.getTaskArray().forEach((e=>this.createCardInnerHTML(e.title,e.description,e.deadline)))}))}static createTodayTaskCards(){const t=document.getElementById("main-title"),s=document.getElementById("task-display-area");document.getElementById("today-tasks").addEventListener("click",(()=>{s.textContent="",t.textContent="Today's Tasks",a.getTaskArray()&&a.getTaskArray().forEach((t=>{t.deadline===e.getFullDate()&&this.createCardInnerHTML(t.title,t.description,t.deadline)}))}))}static createUpcomingTaskCards(){const t=document.getElementById("main-title"),s=document.getElementById("task-display-area");document.getElementById("upcoming-tasks").addEventListener("click",(()=>{s.textContent="",t.textContent="Upcoming Tasks",a.getTaskArray()&&a.getTaskArray().forEach((t=>{const a=t.deadline.split("-"),s=e.getFullDate().split("-");a[1]===s[1]&&a[2]-s[2]<=7&&this.createCardInnerHTML(t.title,t.description,t.deadline)}))}))}}class n{static toggleModal(){const e=document.getElementById("modal"),t=document.getElementById("add-new-task-group"),a=document.getElementById("form"),n=document.getElementById("header");t.addEventListener("click",(()=>{e.style.display="block",n.style.filter="blur(1px)"})),a.addEventListener("submit",(t=>{t.preventDefault(),e.style.display="none",n.style.filter="blur(0px)",s.createAllTaskCards()}))}static resetModal(){const e=document.getElementById("form");document.getElementById("add-new-task-group").addEventListener("click",(()=>{e.reset()}))}static createTaskObject(){document.getElementById("form").addEventListener("submit",(()=>a.storeTaskObject(e.createTaskObject())))}static createToDoCard(){s.createAllTaskCards(),s.createTodayTaskCards(),s.createUpcomingTaskCards()}}n.toggleModal(),n.resetModal(),n.createTaskObject(),n.createToDoCard()})();