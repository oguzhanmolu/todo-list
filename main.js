(()=>{"use strict";class e{constructor(e,t,a){this.title=e,this.description=t,this.deadline=a}static createTaskObject(){const t=document.getElementById("input-title").value,a=document.getElementById("input-description").value,s=document.getElementById("input-date").value,n=e.getFullDate().split("-"),r=s.split("-");return n[0]===r[0]&&n[1]===r[1]&&n[2]>r[2]?alert("Deadline must be at least due today."):new e(t,a,s)}static getFullDate(){const e=new Date,t=(new Date).getDate();return`${e.getFullYear()}-0${e.getMonth()+1}-${t<10?"0"+t:t}`}}let t=[];class a{constructor(){this.tasks=[]}static storeTaskObject(e){t.push(e),this.tasks=t,localStorage.setItem("taskArray",JSON.stringify(this.tasks))}static getTaskArray(){return JSON.parse(localStorage.getItem("taskArray"))}}class s{static createCardInnerHTML(e,t,a){const s=document.getElementById("task-display-area"),n=document.createElement("div");n.innerHTML=`\n    <div id="card">\n      <i class="card-icon fa-sharp fa-solid fa-check-double"></i>\n      <span class="card-item card-title">Title: ${e}</span>\n      <span class="card-item card-description">Description: ${t}</span>\n      <span class="card-item card-deadline">Deadline:\n       ${a.split("-").reverse().join("/")}</span>\n      </div>`,s.appendChild(n)}static createTaskCard=()=>{document.getElementById("task-display-area").textContent="",a.getTaskArray().forEach((e=>this.createCardInnerHTML(e.title,e.description,e.deadline)))};static createAllTaskCards(){if(!a.getTaskArray||null===a.getTaskArray())return;const e=document.getElementById("task-display-area"),t=document.getElementById("all-tasks");e.textContent="",this.createTaskCard(),t.addEventListener("click",(t=>{t.preventDefault(),document.getElementById("main-title").textContent="All Tasks",e.textContent="",a.getTaskArray().forEach((()=>this.createTaskCard()))}))}static createTodayTaskCards(){const t=document.getElementById("main-title"),s=document.getElementById("task-display-area");document.getElementById("today-tasks").addEventListener("click",(()=>{s.textContent="",t.textContent="Today's Tasks",a.getTaskArray()&&a.getTaskArray().forEach((t=>{t.deadline===e.getFullDate()&&this.createCardInnerHTML(t.title,t.description,t.deadline)}))}))}static createUpcomingTaskCards(){const t=document.getElementById("main-title"),s=document.getElementById("task-display-area");document.getElementById("upcoming-tasks").addEventListener("click",(()=>{s.textContent="",t.textContent="Upcoming Tasks",a.getTaskArray()&&a.getTaskArray().forEach((t=>{const a=t.deadline.split("-"),s=e.getFullDate().split("-");a[1]===s[1]&&a[2]-s[2]<=7&&this.createCardInnerHTML(t.title,t.description,t.deadline)}))}))}}class n{static toggleModal(){const e=document.getElementById("modal"),t=document.getElementById("add-new-task-group"),a=document.getElementById("form"),s=document.getElementById("header"),n=document.querySelector("main");function r(){e.style.display="none",s.style.filter="blur(0px)",n.style.filter="blur(0px)"}t.addEventListener("click",(()=>{e.style.display="block",s.style.filter="blur(1px)",n.style.filter="blur(1px)"})),a.addEventListener("submit",(e=>{e.preventDefault(),r()})),s.addEventListener("mouseover",(()=>r())),document.addEventListener("keydown",(e=>{"Escape"===e.key&&r()}))}static resetModal(){const e=document.getElementById("form");document.getElementById("add-new-task-group").addEventListener("click",(()=>{e.reset()}))}static createTaskObject(){document.getElementById("form").addEventListener("submit",(()=>{a.storeTaskObject(e.createTaskObject()),s.createTaskCard()}))}static createToDoCard(){s.createAllTaskCards(),s.createTodayTaskCards(),s.createUpcomingTaskCards()}}n.toggleModal(),n.resetModal(),n.createTaskObject(),n.createToDoCard()})();